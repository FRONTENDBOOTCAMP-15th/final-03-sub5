# 화면 정의서 - 서브5 (Sub5)

## 1. 화면 목록

| 화면명 | 경로 | 목적 | 주요 요소 |
| --- | --- | --- | --- |
| 로그인 | `/login` | 인증 및 진입 | 이메일, 비밀번호 입력, 로그인 버튼, 회원가입 링크 |
| 회원가입 | `/signup` | 계정 생성 | 이름, 이메일, 비밀번호, 프로필 이미지, 가입 버튼 |
| 기록 관리 메인 (대시보드) | `/records` | 러닝 통계 및 요약 | 앵커 네비게이션, 오늘의 요약, 주간/월간 거리, 통계 그래프, 최근 5개 기록, 기록 추가 버튼 |
| 전체 기록 목록 | `/records` (스크롤) | 모든 기록 탐색 | 필터(기간), 정렬(최신순/거리순/페이스순), 기록 카드 목록, 페이지네이션 |
| 기록 상세 | `/records/[id]` | 기록 확인 및 관리 | 날짜, 시간, 거리, 페이스, 운동유형, 장소, 칼로리, 메모, 수정/삭제 버튼(본인만) |
| 기록 추가 | `/records/new` | 새 기록 등록 | 날짜, 시간(시:분:초), 거리, 운동유형, 장소(선택), 칼로리(선택), 메모(선택), 자동 계산 페이스, 저장 버튼 |
| 기록 수정 | `/records/[id]/edit` | 기록 편집 | 기존 데이터가 채워진 폼, 수정 후 저장 버튼 |
| 마이페이지 | `/profile` | 사용자 정보 관리 | 프로필 정보, 설정, 로그아웃 |

## 2. 화면 흐름

### 비로그인 사용자
```
홈 → 로그인 또는 회원가입
```

### 로그인 사용자
```
홈 → 기록 관리 메인 (대시보드)
  ├─ 기록 추가 → 작성 완료 → 목록으로
  ├─ 최근 기록 카드 클릭 → 기록 상세
  │   ├─ 수정 (본인만) → 수정 완료 → 상세로
  │   └─ 삭제 (본인만) → 확인 모달 → 목록으로
  ├─ 전체 기록 목록 (스크롤/버튼)
  │   └─ 기록 카드 클릭 → 기록 상세
  └─ 마이페이지 → 프로필/설정
```

### 화면 전환 다이어그램
```
┌─────────────┐
│    홈       │
└──────┬──────┘
       ↓
┌─────────────┐       ┌─────────────┐
│   로그인    │←─────→│  회원가입   │
└──────┬──────┘       └─────────────┘
       ↓
┌─────────────┐
│    메인     │
└──────┬──────┘
       ↓
┌─────────────┐
│    기록관리  │
└──────┬──────┘
       ↓
┌─────────────────────────────────────┐
│      기록 관리 메인 (대시보드)       │
│  - 오늘의 러닝 요약                  │
│  - 주간/월간 거리                    │
│  - 통계 그래프                       │
│  - 최근 5개 기록 (위젯)              │
└──┬──────────┬─────────┬─────────────┘
   ↓          ↓    
┌──────┐ ┌───────┐ 
│기록추가│ │기록상세│ 
└──┬───┘ └───┬───┘ 
   ↓         ↓
 목록으로  ┌───────┐
          │기록수정│
          └───┬───┘
             ↓
           상세로
```

## 3. 화면별 상세

### 3.1 로그인

**입력 항목:**
- 이메일 (email)
- 비밀번호 (password)

**행동:**
- 로그인 버튼 클릭 → Server Action 실행 → 성공 시 메인으로
- 회원가입 링크 클릭 → 회원가입 페이지로

**상태:**
- 로딩 중 (isPending)
- 에러 메시지 (이메일/비밀번호 오류)

**UI 구성:**
```
┌─────────────────────────┐
│   [로고] 서브5           │
│                         │
│   로그인                │
│                         │
│   이메일                │
│   [input: email]        │
│                         │
│   비밀번호              │
│   [input: password]     │
│   비밀번호를 잊으셨나요? │
│                         │
│   [로그인 버튼]          │
│   회원가입              │
└─────────────────────────┘
```

---

### 3.2 회원가입

**입력 항목:**
- 이름 (name)
- 이메일 (email)
- 비밀번호 (password)
- 프로필 이미지 (attach, 선택)

**행동:**
- 회원가입 버튼 클릭 → Server Action 실행 → 성공 시 로그인 페이지로
- 취소 버튼 → 홈으로

**상태:**
- 로딩 중
- 에러 메시지 (중복 이메일, 유효성 검증)

**UI 구성:**
```
┌─────────────────────────┐
│   회원 가입             │
│                         │
│   이름                  │
│   [input: name]         │
│                         │
│   이메일                │
│   [input: email]        │
│                         │
│   비밀번호              │
│   [input: password]     │
│                         │
│   프로필 이미지          │
│   [file upload]         │
│                         │
│   [회원가입] [취소]     │
└─────────────────────────┘
```

---

### 3.3 기록 관리 메인 (대시보드)

**구성 요소:**
1. **앵커 네비게이션**
   - 홈 / 기록 / 분석 / 최근기록 (scroll to)
   
2. **오늘의 러닝 요약**
   - 거리 (5km)
   - 시간 (30분)
   - 페이스 (6:15/km)
   - 칼로리 (선택)
   
3. **주간 러닝 거리**
   - 합산 거리 표시
   - 그래프 (선택)
   
4. **월간 러닝 거리**
   - 합산 거리 표시
   - 그래프 (선택)
   
5. **최근 기록 (위젯)**
   - 최신 5개 카드
   - 각 카드: 날짜, 거리, 시간, 페이스
   
6. **평균 페이스 통계**
   - 주간 평균
   - 월간 평균

**행동:**
- 앵커 네비게이션 클릭 → 해당 섹션으로 스크롤
- 기록 추가 버튼 (+) → 추가 페이지로
- 기록 카드 클릭 → 상세 페이지로
- 필터 버튼 → 필터 모달
- 내보내기 버튼 → 파일 다운로드

**상태:**
- 로딩 중 (스켈레톤 UI)
- 데이터 없음 ("첫 러닝을 기록해보세요")
- API 오류 (재시도 버튼)

**UI 구성 (목업 기준):**
```
┌─────────────────────────────────┐
│ [홈] [기록] [분석] [최근기록]    │ ← 앵커 네비게이션
├─────────────────────────────────┤
│ [필터] [내보내기] [+기록추가]   │
├─────────────────────────────────┤
│ 오늘의 러닝 요약                │
│ ┌─────┬─────┬─────┬──────┐    │
│ │ 5km │ 30분│6:15 │ 250  │    │
│ └─────┴─────┴─────┴──────┘    │
├─────────────────────────────────┤
│ 주간 러닝 거리                  │
│ [거리(km) 그래프]               │
├─────────────────────────────────┤
│ 월간 러닝 거리                  │
│ [거리(km) 그래프]               │
├─────────────────────────────────┤
│ 최근 기록                       │
│ ┌───────────────────────────┐  │
│ │ 1월 19일 (월)              │  │
│ │ 5.2km | 32:10 | 6:11/km   │  │
│ └───────────────────────────┘  │
│ ┌───────────────────────────┐  │
│ │ 1월 17일 (금)              │  │
│ │ 10km | 1:02:30 | 6:15/km  │  │
│ └───────────────────────────┘  │
│ ...                             │
├─────────────────────────────────┤
│ 평균 페이스 통계                │
│ 주간 평균: 6:15/km              │
│ 월간 평균: 6:30/km              │
└─────────────────────────────────┘
[홈] [기록] [목표] [마이] ← Bottom Nav
```

---

### 3.4 전체 기록 목록

**구성 요소:**
- 필터 (기간: 이번 주/월, 지난 주/월, 전체)
- 정렬 (최신순/거리순/페이스순)
- 기록 카드 목록
- 페이지네이션 또는 무한 스크롤

**행동:**
- 필터 선택 → 목록 재조회
- 정렬 선택 → 목록 재정렬
- 카드 클릭 → 상세 페이지로
- 스크롤 → 다음 페이지 로드

**상태:**
- 로딩 중
- 결과 없음
- API 오류

---

### 3.5 기록 상세

**구성 요소:**
- 상단: 뒤로가기 버튼
- 날짜, 시간, 거리, 페이스 (강조)
- 운동 유형
- 운동 장소 (있으면)
- 소모 칼로리 (있으면)
- 메모 (있으면)
- 하단: 수정 버튼 (본인만), 삭제 버튼 (본인만)

**행동:**
- 뒤로가기 → 목록으로
- 수정 버튼 → 수정 페이지로
- 삭제 버튼 → 확인 모달 → 삭제 후 목록으로

**상태:**
- 로딩 중
- 기록 없음 (404)
- 권한 없음 (타인 기록)

**UI 구성:**
```
┌─────────────────────────┐
│ [←] 러닝 기록 상세      │
├─────────────────────────┤
│                         │
│  1월 19일 (월)          │
│  러닝                   │
│                         │
│  ━━━━━━━━━━━━━━━━━━━  │
│                         │
│  거리        5.2 km     │
│  시간        32분 10초  │
│  페이스      6:11/km    │
│                         │
│  ━━━━━━━━━━━━━━━━━━━  │
│                         │
│  장소        한강공원   │
│  칼로리      364 kcal   │
│                         │
│  메모                   │
│  오늘은 컨디션이 좋았다 │
│                         │
│  [수정] [삭제]          │
└─────────────────────────┘
```

---

### 3.6 기록 추가

**입력 항목:**
- **필수:**
  - 날짜 (date picker)
  - 운동시간 (시:분:초, 3개 input)
  - 거리 (number input, km)
  - 운동유형 (select: 러닝/워킹/조깅/트레킹/트레드밀)

- **선택:**
  - 운동장소 (text input 또는 지도)
  - 소모 칼로리 (number input, 자동 계산 가능)
  - 메모 (textarea)

- **자동 계산:**
  - 평균 페이스 (실시간 표시)

**행동:**
- 저장 버튼 → 검증 → Server Action → 목록으로
- 뒤로가기/취소 → 목록으로 (확인 모달)

**상태:**
- 로딩 중 (저장 중)
- 유효성 검증 에러 (필드별 오류 메시지)
- 로그인 안 됨 → 로그인 페이지로 리다이렉트

**UI 구성 (목업 기준):**
```
┌─────────────────────────┐
│ [←] 러닝 기록 추가 [저장]│
├─────────────────────────┤
│ 날짜 *                  │
│ [2026-01-19] 📅         │
│                         │
│ 운동시간 *              │
│ [0]시 [30]분 [10]초     │
│                         │
│ 거리 (km) *             │
│ [5.2]                   │
│                         │
│ 평균 페이스             │
│ 6:11/km (자동 계산)     │
│                         │
│ 운동 유형 *             │
│ [러닝 ▼]                │
│                         │
│ ─────────────────────   │
│                         │
│ 운동 장소               │
│ [텍스트 입력]           │
│                         │
│ 소모 칼로리 (kcal)      │
│ [364] (자동 계산)       │
│                         │
│ 메모                    │
│ [textarea]              │
│                         │
│ [기록 저장]             │
└─────────────────────────┘
```

---

### 3.7 기록 수정

**구성:**
- 기록 추가와 동일한 폼
- 기존 데이터가 `defaultValue`로 채워짐
- 제목: "러닝 기록 수정"
- 저장 후 상세 페이지로 이동

**행동:**
- 수정 후 저장 → 상세 페이지로
- 취소 → 상세 페이지로

---

### 3.8 마이페이지

**구성:**
- 프로필 정보 (이름, 이메일, 프로필 이미지)
- 설정
- 로그아웃 버튼

**행동:**
- 프로필 수정 → 수정 페이지로
- 로그아웃 → 로그인 페이지로

---

## 4. 공통 UI 요소

### 4.1 Bottom Navigation (하단 네비게이션)
```
┌──────┬──────┬──────┬──────┐
│  🏠  │  📊  │  🎯  │  👤  │
│  홈  │ 기록 │ 목표 │ 마이 │
└──────┴──────┴──────┴──────┘
```
- 모든 페이지에 고정
- 현재 페이지 하이라이트

### 4.2 Header (상단)
- 로고 / 페이지 제목
- (선택) 날씨 정보

### 4.3 로딩 상태
- 스켈레톤 UI 또는 스피너
- "로딩 중..." 텍스트

### 4.4 에러 상태
- 에러 메시지
- 재시도 버튼

### 4.5 빈 상태
- 안내 메시지
- CTA 버튼 (예: "첫 기록 추가하기")

---

## 5. 반응형 디자인

### 모바일 우선 (Mobile First)
- 기본: 320px ~ 767px
- 최소 너비: 320px
- 터치 타겟: 최소 44x44px

### 데스크톱 대응 (선택)
- 768px 이상: 레이아웃 조정
- 그리드 → 2~3열
- 사이드바 추가 가능

---

## 6. 접근성 (Accessibility)

- **키보드 네비게이션**: Tab, Enter, Esc 지원
- **포커스 표시**: focus 상태 시각적 표시
- **스크린 리더**: 적절한 label, aria-label 사용
- **색상 대비**: WCAG AA 기준 충족
- **다크모드**: dark: 클래스 지원

---

## 7. 디자인 시스템

### 색상 팔레트
```
주요 색상:
- Orange: #F97316 (주요 버튼, 강조)
- Gray: #1F2937 (보조 버튼)
- Red: #EF4444 (삭제, 에러)

배경:
- Light: #FFFFFF, #F3F4F6
- Dark: #1F2937, #374151

텍스트:
- Light: #111827
- Dark: #E5E7EB
```

### 타이포그래피
```
제목: text-2xl font-bold (24px)
소제목: text-xl font-semibold (20px)
본문: text-base (16px)
작은글씨: text-sm (14px)
```

### 버튼
```
주요 버튼:
- bg-orange-500 hover:bg-amber-400
- py-2 px-4 rounded

보조 버튼:
- bg-gray-900 hover:bg-amber-400
- py-2 px-4 rounded

삭제 버튼:
- bg-red-500 hover:bg-red-600
- py-1 px-2 rounded
```

---

## 8. 첨부 자료

- 피그마 디자인 목업 (Mockup)
  - 기록 추가 화면
  - 기록 관리 메인 화면

*(실제 프로젝트에서는 목업 이미지 파일을 첨부하거나 피그마 링크 추가)*
